Proj4js.Proj.sinu={init:function(){if(!this.sphere){this.en=Proj4js.common.pj_enfn(this.es)}else{this.n=1.;this.m=0.;this.es=0;this.C_y=Math.sqrt((this.m+1.)/this.n);this.C_x=this.C_y/(this.m+1.)}},forward:function(p){var x,y,d;var l=p.x;var a=p.y;l=Proj4js.common.adjust_lon(l-this.long0);if(this.sphere){if(!this.m){a=this.n!=1.?Math.asin(this.n*Math.sin(a)):a}else{var k=this.n*Math.sin(a);for(var i=Proj4js.common.MAX_ITER;i;--i){var V=(this.m*a+Math.sin(a)-k)/(this.m+Math.cos(a));a-=V;if(Math.abs(V)<Proj4js.common.EPSLN)break}}x=this.a*this.C_x*l*(this.m+Math.cos(a));y=this.a*this.C_y*a}else{var s=Math.sin(a);var c=Math.cos(a);y=this.a*Proj4js.common.pj_mlfn(a,s,c,this.en);x=this.a*l*c/Math.sqrt(1.-this.es*s*s)}p.x=x;p.y=y;return p},inverse:function(p){var l,t,a;p.x-=this.x0;p.y-=this.y0;l=p.y/this.a;if(this.sphere){p.y/=this.C_y;l=this.m?Math.asin((this.m*p.y+Math.sin(p.y))/this.n):(this.n!=1.?Math.asin(Math.sin(p.y)/this.n):p.y);a=p.x/(this.C_x*(this.m+Math.cos(p.y)))}else{l=Proj4js.common.pj_inv_mlfn(p.y/this.a,this.es,this.en);var s=Math.abs(l);if(s<Proj4js.common.HALF_PI){s=Math.sin(l);t=this.long0+p.x*Math.sqrt(1.-this.es*s*s)/(this.a*Math.cos(l));a=Proj4js.common.adjust_lon(t)}else if((s-Proj4js.common.EPSLN)<Proj4js.common.HALF_PI){a=this.long0}}p.x=a;p.y=l;return p}};
