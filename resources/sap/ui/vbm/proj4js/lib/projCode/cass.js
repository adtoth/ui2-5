Proj4js.Proj.cass={init:function(){if(!this.sphere){this.en=Proj4js.common.pj_enfn(this.es);this.m0=Proj4js.common.pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en)}},C1:.16666666666666666666,C2:.00833333333333333333,C3:.04166666666666666666,C4:.33333333333333333333,C5:.06666666666666666666,forward:function(p){var x,y;var l=p.x;var a=p.y;l=Proj4js.common.adjust_lon(l-this.long0);if(this.sphere){x=Math.asin(Math.cos(a)*Math.sin(l));y=Math.atan2(Math.tan(a),Math.cos(l))-this.phi0}else{this.n=Math.sin(a);this.c=Math.cos(a);y=Proj4js.common.pj_mlfn(a,this.n,this.c,this.en);this.n=1./Math.sqrt(1.-this.es*this.n*this.n);this.tn=Math.tan(a);this.t=this.tn*this.tn;this.a1=l*this.c;this.c*=this.es*this.c/(1-this.es);this.a2=this.a1*this.a1;x=this.n*this.a1*(1.-this.a2*this.t*(this.C1-(8.-this.t+8.*this.c)*this.a2*this.C2));y-=this.m0-this.n*this.tn*this.a2*(.5+(5.-this.t+6.*this.c)*this.a2*this.C3)}p.x=this.a*x+this.x0;p.y=this.a*y+this.y0;return p},inverse:function(p){p.x-=this.x0;p.y-=this.y0;var x=p.x/this.a;var y=p.y/this.a;var a,l;if(this.sphere){this.dd=y+this.lat0;a=Math.asin(Math.sin(this.dd)*Math.cos(x));l=Math.atan2(Math.tan(x),Math.cos(this.dd))}else{var b=Proj4js.common.pj_inv_mlfn(this.m0+y,this.es,this.en);this.tn=Math.tan(b);this.t=this.tn*this.tn;this.n=Math.sin(b);this.r=1./(1.-this.es*this.n*this.n);this.n=Math.sqrt(this.r);this.r*=(1.-this.es)*this.n;this.dd=x/this.n;this.d2=this.dd*this.dd;a=b-(this.n*this.tn/this.r)*this.d2*(.5-(1.+3.*this.t)*this.d2*this.C3);l=this.dd*(1.+this.t*this.d2*(-this.C4+(1.+3.*this.t)*this.d2*this.C5))/Math.cos(b)}p.x=Proj4js.common.adjust_lon(this.long0+l);p.y=a;return p}}
