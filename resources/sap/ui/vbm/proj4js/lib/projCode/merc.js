Proj4js.Proj.merc={init:function(){if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=Proj4js.common.msfnz(this.es,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}},forward:function(p){var l=p.x;var a=p.y;if(a*Proj4js.common.R2D>90.0&&a*Proj4js.common.R2D<-90.0&&l*Proj4js.common.R2D>180.0&&l*Proj4js.common.R2D<-180.0){Proj4js.reportError("merc:forward: llInputOutOfRange: "+l+" : "+a);return null}var x,y;if(Math.abs(Math.abs(a)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN){Proj4js.reportError("merc:forward: ll2mAtPoles");return null}else{if(this.sphere){x=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(l-this.long0);y=this.y0+this.a*this.k0*Math.log(Math.tan(Proj4js.common.FORTPI+0.5*a))}else{var s=Math.sin(a);var t=Proj4js.common.tsfnz(this.e,a,s);x=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(l-this.long0);y=this.y0-this.a*this.k0*Math.log(t)}p.x=x;p.y=y;return p}},inverse:function(p){var x=p.x-this.x0;var y=p.y-this.y0;var l,a;if(this.sphere){a=Proj4js.common.HALF_PI-2.0*Math.atan(Math.exp(-y/this.a*this.k0))}else{var t=Math.exp(-y/(this.a*this.k0));a=Proj4js.common.phi2z(this.e,t);if(a==-9999){Proj4js.reportError("merc:inverse: lat = -9999");return null}}l=Proj4js.common.adjust_lon(this.long0+x/(this.a*this.k0));p.x=l;p.y=a;return p}};
