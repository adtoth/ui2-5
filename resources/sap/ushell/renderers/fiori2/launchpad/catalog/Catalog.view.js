//Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ui.core.IconPool");jQuery.sap.require("sap.ushell.ui.launchpad.Tile");jQuery.sap.require("sap.ushell.ui.launchpad.TileContainer");jQuery.sap.require("sap.ushell.ui.launchpad.Panel");jQuery.sap.require("sap.ushell.ui.launchpad.CatalogListItem");sap.ui.jsview("sap.ushell.renderers.fiori2.launchpad.catalog.Catalog",{createContent:function(c){var t=sap.ushell.resources.i18n;function i(v){return!v}function a(l){return((l!==null)&&(l==="1x2"||l==="2x2"))||false}function f(v){if(jQuery.device.is.phone){return false}else{return i(v)}}function b(v){return parseInt(v,10)||0}function g(s){return(s&&sap.ui.core.IconPool.getIconURI("accept"))||sap.ui.core.IconPool.getIconURI("add")}function d(v){return(v&&v>0)?v+((v>1&&(" "+t.getText("tiles")))||(" "+t.getText("tile"))):t.getText("no_tiles")}var B=new sap.m.Button({icon:{path:"active",formatter:g},enabled:{path:"active",formatter:i},tooltip:"{i18n>addTileToGroup}",press:[c.onAddTileToDefault,c]}),T=new sap.ushell.ui.launchpad.Tile({draggable:{path:"active",formatter:f},dragContainer:"body",dragStart:[c.onTileDragStart,c],dragStop:[c.onTileDragStop,c],tileViews:{path:"content",factory:function(I,C){return C.getObject()}},footItems:[B],"long":{path:"size",formatter:a},index:{path:"id",formatter:b}});B.constructor.prototype.setEnabled=function(v){this.setProperty("enabled",v,true);this.$().toggleClass("sapMBtnDisabled",!v);return this};B.constructor.prototype.setIcon=function(v){this.setProperty("icon",v,true);if(v&&this._image&&this._image.setSrc){this._image.setSrc(v)}return this};return[new sap.m.SplitContainer("catalogSplitContainer",{detailPages:[new sap.m.Page("catalogTilesPage",{showHeader:false,showFooter:false,content:[new sap.ushell.ui.launchpad.Panel({translucent:true,headerText:"",headerLevel:sap.m.HeaderLevel.H2,headerBar:new sap.m.Bar("catalogHeader",{translucent:true,contentLeft:[new sap.m.Select("catalogSelect",{name:"Browse",title:"{i18n>tile_catalog}",items:{path:"/catalogs",template:new sap.ui.core.ListItem({text:"{title}"})},change:[c.onCategoryFilter,c]})],contentRight:[new sap.m.SearchField("catalogSearch",{placeholder:"{i18n>search_catalog}",liveChange:[c.onLiveFilter,c]})]}),content:[new sap.ushell.ui.launchpad.TileContainer("catalogTiles",{showHeader:false,showPlaceholder:false,showGroupHeader:"{/showCatalogHeaders}",groupHeaderLevel:sap.m.HeaderLevel.H6,tiles:{path:"/catalogTiles",template:T,sorter:new sap.ui.model.Sorter("catalogIndex",false,function(C){return(C&&C.getProperty("catalog"))||""})}})]})]}).addStyleClass("sapUshellCatalogMain")],masterPages:[new sap.m.Page({showHeader:false,showFooter:false,content:[new sap.m.List({mode:sap.m.ListMode.None,items:{path:"/groups",template:new sap.ushell.ui.launchpad.CatalogListItem({title:"{title}",markChange:200,icon:sap.ui.core.IconPool.getIconURI("target-group"),type:sap.m.ListType.Inactive,description:{path:"tiles/length",formatter:d},drop:[c.onAddTile,c]}),sorter:new sap.ui.model.Sorter("isDefaultGroup",true,function(C){return(!C.getProperty("isDefaultGroup")&&t.getText("drag_groups"))||""})}}).addStyleClass("sapUshellCatalogList")]}).addStyleClass("sapUshellCatalogSide")]}).addStyleClass("sapUshellCatalog")]},getControllerName:function(){return"sap.ushell.renderers.fiori2.launchpad.catalog.Catalog"}})}());
