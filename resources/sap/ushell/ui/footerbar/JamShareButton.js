/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.footerbar.JamShareButton");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.m.Button");sap.m.Button.extend("sap.ushell.ui.footerbar.JamShareButton",{metadata:{library:"sap.ushell",properties:{"beforePressHandler":{type:"any",group:"Misc",defaultValue:null},"afterPressHandler":{type:"any",group:"Misc",defaultValue:null},"jamData":{type:"object",group:"Misc",defaultValue:null}}}});
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.declare("sap.ushell.ui.footerbar.JamShareButton");jQuery.sap.require("sap.ushell.resources");sap.ushell.ui.footerbar.JamShareButton.prototype.init=function(){jQuery.sap.require("sap.ushell.services.Container");var u=sap.ushell.Container&&sap.ushell.Container.getUser(),s=this;this.setEnabled(u&&u.isJamActive());this.setIcon('sap-icon://share-2');this.setText(sap.ushell.resources.i18n.getText("shareBtn"));this.attachPress(function(){if(s.getBeforePressHandler()){s.getBeforePressHandler()()}this.showShareDialog(function(){if(s.getAfterPressHandler()){s.getAfterPressHandler()()}})})};sap.ushell.ui.footerbar.JamShareButton.prototype.showShareDialog=function(){jQuery.sap.require('sap.collaboration.components.fiori.sharing.dialog.Component');if(!this.shareComponent){this.shareComponent=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog"})}this.shareComponent.setSettings(this.getJamData());this.shareComponent.open();cb()};sap.ushell.ui.footerbar.JamShareButton.prototype.exit=function(){if(this.shareComponent){this.shareComponent.destroy()}}}());
