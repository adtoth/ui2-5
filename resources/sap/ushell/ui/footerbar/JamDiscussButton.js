/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.footerbar.JamDiscussButton");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.m.Button");sap.m.Button.extend("sap.ushell.ui.footerbar.JamDiscussButton",{metadata:{library:"sap.ushell",properties:{"beforePressHandler":{type:"any",group:"Misc",defaultValue:null},"afterPressHandler":{type:"any",group:"Misc",defaultValue:null},"jamData":{type:"object",group:"Misc",defaultValue:null}}}});
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ushell.resources");jQuery.sap.declare("sap.ushell.ui.footerbar.JamDiscussButton");sap.ushell.ui.footerbar.JamDiscussButton.prototype.init=function(){jQuery.sap.require("sap.ushell.services.Container");var u=sap.ushell.Container&&sap.ushell.Container.getUser(),s=this;this.setEnabled(u&&u.isJamActive());this.setIcon('sap-icon://discussion-2');this.setText(sap.ushell.resources.i18n.getText("discussBtn"));this.attachPress(function(){if(s.getBeforePressHandler()){s.getBeforePressHandler()()}this.showDiscussDialog(function(){if(s.getAfterPressHandler()){s.getAfterPressHandler()()}})})};sap.ushell.ui.footerbar.JamDiscussButton.prototype.showDiscussDialog=function(c){jQuery.sap.require('sap.collaboration.components.fiori.feed.dialog.Component');if(!this.discussComponent){this.discussComponent=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.feed.dialog"})}this.discussComponent.setSettings(this.getJamData());this.discussComponent.open();c()}}());
