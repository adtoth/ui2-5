{
"version":"2.0",
"name":"sap.collaboration.library-preload",
"dependencies":["sap.ui.core.library-preload"],
"modules":{
	"sap/collaboration/components/fiori/feed/Component.js":"/*!\n * @copyright@\n */\njQuery.sap.require('sap.collaboration.library');jQuery.sap.require('sap.collaboration.components.utils.CommonUtil');jQuery.sap.require('sap.collaboration.components.utils.JamUtil');jQuery.sap.require('sap.collaboration.components.utils.OdataUtil');jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.declare('sap.collaboration.components.fiori.feed.Component');sap.ui.core.UIComponent.extend('sap.collaboration.components.fiori.feed.Component',{metadata:{properties:{width:{type:'sap.ui.core.CSSSize',defaultValue:''},height:{type:'sap.ui.core.CSSSize',defaultValue:''},oDataServiceUrl:{type:'sap.ui.core.URI',defaultValue:'/sap/opu/odata/sap/SM_INTEGRATION_SRV'},feedType:{type:'string'},groupIds:{type:'string'},object:{type:'object'}},aggregations:{},events:{}},init:function(){this.CollaborationFeedConstants={defaultWidth:'100%',defaultHeight:'100%'};this.setWidth(this.CollaborationFeedConstants.defaultWidth);this.setHeight(this.CollaborationFeedConstants.defaultHeight);this.mode=sap.collaboration.AppType.widget;this.oCommonUtil=new sap.collaboration.components.utils.CommonUtil();this.oLangBundle=this.oCommonUtil.getLanguageBundle();sap.ui.core.UIComponent.prototype.init.apply(this)},setSettings:function(s){this.setODataServiceUrl(s.oDataServiceUrl);this.setFeedType(s.feedType);this.setGroupIds(s.groupIds);this.setObject(s.object)},onBeforeRendering:function(){var a=true;this.sODataServiceUrl=this.getODataServiceUrl();this.oOdataModel=new sap.ui.model.odata.ODataModel(this.sODataServiceUrl,a);if(sap.ui.getCore().byId(this.getId()+'_oAppView')){sap.ui.getCore().byId(this.getId()+'_oAppView').destroy()}if(sap.ui.getCore().byId(this.getId()+'_oSplitAppView')){sap.ui.getCore().byId(this.getId()+'_oSplitAppView').destroy()}},onAfterRendering:function(){jQuery.sap.log.debug('Feed Component properties:','','sap.collaboration.components.fiori.feed.Component.onAfterRendering()');jQuery.sap.log.debug('width: '+this.getWidth());jQuery.sap.log.debug('height: '+this.getHeight());jQuery.sap.log.debug('oDataServiceUrl: '+this.getODataServiceUrl());jQuery.sap.log.debug('feedType: '+this.getFeedType());jQuery.sap.log.debug('groupIds: '+this.getGroupIds());jQuery.sap.log.debug('object: '+JSON.stringify(this.getObject()));if(this.getMode()===sap.collaboration.AppType.widget){var a=sap.ui.view({id:this.getId()+'_oAppView',viewData:{controlId:this.getId(),odataModel:this.oOdataModel,appType:this.getMode(),feedType:this.getFeedType(),groupIds:this.getGroupIds(),object:this.getObject(),langBundle:this.oLangBundle},type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.collaboration.components.fiori.feed.app.App'});a.placeAt(this.getId())}else if(this.getMode()===sap.collaboration.AppType.split){var s=sap.ui.view({id:this.getId()+'_oSplitAppView',viewData:{controlId:this.getId(),odataModel:this.oOdataModel,appType:this.getMode(),object:this.getObject(),langBundle:this.oLangBundle},type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.collaboration.components.fiori.feed.splitApp.SplitApp'});s.placeAt(this.getId())}},render:function(r){r.write(\"<div id='\"+this.getId()+\"' style='width:\"+this.getWidth()+';height:'+this.getHeight()+\"'\");r.write('>');r.write('</div>')},getMode:function(){return this.mode}});\n",
	"sap/collaboration/components/fiori/feed/app/App.controller.js":"/*!\n * @copyright@\n */\nsap.ui.controller('sap.collaboration.components.fiori.feed.app.App',{onInit:function(){this.oApp=this.getView().oApp;this.oOdataModel=this.getView().getViewData().odataModel;this.oLangBundle=this.getView().getViewData().langBundle;this.sPrefixId=this.getView().getViewData().controlId;this.sAppType=this.getView().getViewData().appType;this.sFeedType=this.getView().getViewData().feedType;this.sGroupIds=this.getView().getViewData().groupIds;this.oBusinessObject=this.getView().getViewData().object},onBeforeRendering:function(){this.initializeUtils();this.createDetailPage()},initializeUtils:function(){this.oODataUtil=new sap.collaboration.components.utils.OdataUtil()},createDetailPage:function(){var j=this.oODataUtil.getJamUrl(this.oOdataModel);var J=this.oODataUtil.getJamToken(this.oOdataModel);if(this.sAppType===sap.collaboration.AppType.widget){this.getGroupIds()}var d=sap.ui.view({id:this.sPrefixId+'detailView',viewData:{controlId:this.sPrefixId,jamURL:j,jamToken:J,appType:this.sAppType,feedType:this.sFeedType,groupIds:this.sGroupIds,object:this.oBusinessObject,langBundle:this.oLangBundle},type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.collaboration.components.fiori.feed.commons.Detail'});this.oApp.addPage(d);this.oApp.setInitialPage(d)},getGroupIds:function(){var g;if(this.sFeedType===sap.collaboration.FeedType.group&&(this.sGroupIds===undefined||this.sGroupIds==='')){g=this.oODataUtil.getGroupsData(this.oOdataModel,'/Groups');this.sGroupIds=this.oODataUtil.getGroupIds(g)}else if(this.sFeedType===sap.collaboration.FeedType.objectGroup&&(this.sGroupIds===undefined||this.sGroupIds==='')){g=this.oODataUtil.getGroupsData(this.oOdataModel,\"/BusinessObjects('\"+this.oBusinessObject.id+\"')/AssignedGroups\");this.sGroupIds=this.oODataUtil.getGroupIds(g)}else if(this.sFeedType===sap.collaboration.FeedType.objectGroup&&!(this.sGroupIds===undefined||this.sGroupIds==='')){g=this.oODataUtil.getGroupsData(this.oOdataModel,\"/BusinessObjects('\"+this.oBusinessObject.id+\"')/AssignedGroups\");var c=this.oODataUtil.getGroupIds(g);this.sGroupIds=this.filterGroupIds(c)}},filterGroupIds:function(c){var g;var C=c.split(',');var I=this.sGroupIds.split(',');for(var i=0;i<I.length;i++){if(C.indexOf(I[i])===-1){I.splice(i,1);i=i-1}}if(I.length!==0){g=I.join()}else{g=''}return g}});\n",
	"sap/collaboration/components/fiori/feed/app/App.view.js":"/*!\n * @copyright@\n */\nsap.ui.jsview('sap.collaboration.components.fiori.feed.app.App',{getControllerName:function(){return'sap.collaboration.components.fiori.feed.app.App'},createContent:function(c){this.sPrefixId=this.getViewData().controlId;this.oApp=new sap.m.App(this.sPrefixId+'app');return this.oApp}});\n",
	"sap/collaboration/components/fiori/feed/commons/Detail.controller.js":"/*!\n * @copyright@\n */\njQuery.sap.require('sap.collaboration.components.utils.JamUtil');sap.ui.controller('sap.collaboration.components.fiori.feed.commons.Detail',{onInit:function(){var s=this;this.sJamToken=this.getView().getViewData().jamToken;this.sJamURL=this.getView().getViewData().jamURL;this.oLangBundle=this.getView().getViewData().langBundle;this.sPrefixId=this.getView().getViewData().controlId;this.oBusinessObject=this.getView().getViewData().object;if(this.getView().getViewData().appType===sap.collaboration.AppType.split){this.sFeedType=sap.collaboration.FeedType.follows}else{this.sFeedType=this.getView().getViewData().feedType;this.getView().oDetailPage.setShowHeader(false)}this.oJamUtil=new sap.collaboration.components.utils.JamUtil()},onBeforeRendering:function(){},onAfterRendering:function(){try{this.loadFeedWidgetScript(this.sJamURL)}catch(e){jQuery.sap.log.error(e,'','sap.collaboration.components.fiori.feed.commons.Detail.onInit()');throw e}},loadFeedWidgetScript:function(j){var s=this;try{var g=s.getView().getViewData().groupIds;var w=this.oJamUtil.prepareWidgetData(s.sJamToken,s.sFeedType,g,s.oBusinessObject);var l=function(r){jQuery.sap.log.info('Jam Feed Widget Loaded Successfully','sap.collaboration.components.fiori.feed.commons.Detail.onInit()');s.oJamUtil.initializeJamWidget(s.sJamURL);s.oJamUtil.createJamWidget(s.sPrefixId+'widgetContainer',w)};var L=function(e){jQuery.sap.log.error(e,'','sap.collaboration.components.fiori.feed.commons.Detail.loadFeedWidgetScript()');throw e};this.oJamUtil.loadFeedWidgetScript(j,l,L)}catch(e){jQuery.sap.log.error(e,'','sap.collaboration.components.fiori.feed.commons.Detail.loadFeedWidgetScript()');throw e}}});\n",
	"sap/collaboration/components/fiori/feed/commons/Detail.view.js":"/*!\n * @copyright@\n */\nsap.ui.jsview('sap.collaboration.components.fiori.feed.commons.Detail',{getControllerName:function(){return'sap.collaboration.components.fiori.feed.commons.Detail'},createContent:function(c){var l=this.getViewData().langBundle;this.sPrefixId=this.getViewData().controlId;this.oDetailPage=new sap.m.Page(this.sPrefixId+'feedDetailsPage',{title:l.getText('FRV_DOMAIN_DATA_FEED_TYPES_FOLLOWS'),enableScrolling:false,content:[new sap.m.ScrollContainer(this.sPrefixId+'widgetContainer',{width:'100%',height:'100%',horizontal:false,vertical:false})]});return this.oDetailPage}});\n",
	"sap/collaboration/components/fiori/feed/dialog/Component.js":"/*!\n * @copyright@\n */\njQuery.sap.require('sap.collaboration.library');jQuery.sap.require('sap.collaboration.components.utils.CommonUtil');jQuery.sap.require('sap.collaboration.components.utils.JamUtil');jQuery.sap.require('sap.collaboration.components.utils.OdataUtil');jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.declare('sap.collaboration.components.fiori.feed.dialog.Component');sap.ui.core.UIComponent.extend('sap.collaboration.components.fiori.feed.dialog.Component',{metadata:{includes:['../../../css/Sharing.css'],properties:{width:{type:'sap.ui.core.CSSSize',defaultValue:'575px'},height:{type:'sap.ui.core.CSSSize',defaultValue:'605px'},oDataServiceUrl:{type:'sap.ui.core.URI',defaultValue:'/sap/opu/odata/sap/SM_INTEGRATION_SRV'},feedType:{type:'string',defaultValue:sap.collaboration.FeedType.object},groupIds:{type:'string'},object:{type:'object'}},aggregations:{},events:{}},init:function(){this.oCommonUtil=new sap.collaboration.components.utils.CommonUtil();this.oLangBundle=this.oCommonUtil.getLanguageBundle();sap.ui.core.UIComponent.prototype.init.apply(this)},setSettings:function(s){this.setODataServiceUrl(s.oDataServiceUrl);this.setFeedType(s.feedType);this.setGroupIds(s.groupIds);this.setObject(s.object)},onBeforeRendering:function(){},onAfterRendering:function(){},render:function(r){},initOdata:function(){var a=true;var o=this.getODataServiceUrl();this.oOdataModel=new sap.ui.model.odata.ODataModel(o,a);if(!this.oOdataModel.oMetadata.oMetadata){var e=new Error('Metadata is undefined');jQuery.sap.log.error(e,'','sap.collaboration.components.fiori.feed.dialog.Component.initOdata()');throw e}var O=new sap.collaboration.components.utils.OdataUtil();try{this.sJamUrl=O.getJamUrl(this.oOdataModel);this.sJamToken=O.getJamToken(this.oOdataModel)}catch(E){jQuery.sap.log.error(E,'','sap.collaboration.components.fiori.feed.dialog.Component.initOdata()');throw E}},createFeedDialogComponent:function(){try{this.initOdata();this.createFeedView();this.createFeedDialog()}catch(e){jQuery.sap.log.error(e,'','sap.collaboration.components.fiori.feed.dialog.Component.createFeedDialogComponent()');throw e}},createFeedView:function(){try{if(!this.oFeedView){this.oFeedView=sap.ui.view({id:this.getId()+'_FeedView',height:'100%',viewData:{controlId:this.getId(),jamURL:this.sJamUrl,jamToken:this.sJamToken,appType:sap.collaboration.AppType.widget,feedType:this.getFeedType(),groupIds:this.getGroupIds(),object:this.getObject(),langBundle:this.oLangBundle},type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.collaboration.components.fiori.feed.commons.Detail'})}else{this.oFeedView.getController().sFeedType=this.getFeedType();this.oFeedView.getViewData().groupIds=this.getGroupIds();this.oFeedView.getController().oBusinessObject=this.getObject()}}catch(e){jQuery.sap.log.error(e,'','sap.collaboration.components.fiori.feed.dialog.Component.createFeedView()');throw e}},createFeedDialog:function(){var s=this;if(!this.oFeedDialog){this.oFeedDialog=new sap.m.Dialog(this.getId()+'FeedDialog',{title:this.oLangBundle.getText('FEED_DIALOG_TITLE'),stretch:false,contentWidth:this.getWidth(),contentHeight:this.getHeight(),content:[this.oFeedView],endButton:new sap.m.Button({text:this.oLangBundle.getText('CLOSE_BUTTON_TEXT'),press:function(){s.oFeedDialog.close()}})});if(jQuery.device.is.phone){this.oFeedDialog.setStretch(true)}}},open:function(){jQuery.sap.log.debug('Feed Dialog Component properties:','','sap.collaboration.components.fiori.feed.dialog.Component.open()');jQuery.sap.log.debug('width: '+this.getWidth());jQuery.sap.log.debug('height: '+this.getHeight());jQuery.sap.log.debug('oDataServiceUrl: '+this.getODataServiceUrl());jQuery.sap.log.debug('feedType: '+this.getFeedType());jQuery.sap.log.debug('groupIds: '+this.getGroupIds());jQuery.sap.log.debug('object: '+JSON.stringify(this.getObject()));try{this.createFeedDialogComponent();this.oFeedDialog.open()}catch(e){jQuery.sap.log.error(e,'','sap.collaboration.components.fiori.feed.dialog.Component.open()');this.oCommonUtil.displayError(e)}}});\n",
	"sap/collaboration/components/fiori/feed/splitApp/FeedTypeMaster.controller.js":"/*!\n * @copyright@\n */\nsap.ui.controller('sap.collaboration.components.fiori.feed.splitApp.FeedTypeMaster',{onInit:function(){this.sJamToken=this.getView().getViewData().jamToken;this.sPrefixId=this.getView().getViewData().controlId;this.oBusinessObject=this.getView().getViewData().object},listItemPress:function(f){if(f===sap.collaboration.FeedType.follows||f===sap.collaboration.FeedType.company){this.getJamWidget(f);this.setDetailPageTitle(f)}else{this.navigateToGroupMaster(f)}},getJamWidget:function(f){var j=new sap.collaboration.components.utils.JamUtil();j.createJamWidget(this.sJamToken,this.sPrefixId+'widgetContainer',f,this.oBusinessObject)},setDetailPageTitle:function(f){var d;f===sap.collaboration.FeedType.follows?d=this.getView().oLangBundle.getText('FRV_DOMAIN_DATA_FEED_TYPES_FOLLOWS'):d=this.getView().oLangBundle.getText('FRV_DOMAIN_DATA_FEED_TYPES_COMPANY');sap.ui.getCore().byId(this.sPrefixId+'feedDetailsPage').setTitle(d)},navigateToGroupMaster:function(f){var n=this.createNavigationData(f);sap.ui.getCore().getEventBus().publish('nav','to',n)},createNavigationData:function(f){var d;f===sap.collaboration.FeedType.group?d={viewName:'sap.collaboration.components.fiori.feed.splitApp.GroupMaster',viewId:this.sPrefixId+'groupMasterView',data:{feedType:sap.collaboration.FeedType.group,lanBundle:this.getView().oLangBundle,groupMasterPageTitle:this.getView().oLangBundle.getText('GROUP_MASTER_PAGE_GROUP_TITLE')}}:d={viewName:'sap.collaboration.components.fiori.feed.splitApp.GroupMaster',viewId:this.sPrefixId+'groupMasterView',data:{feedType:sap.collaboration.FeedType.object,lanBundle:this.getView().oLangBundle,groupMasterPageTitle:this.getView().oLangBundle.getText('GROUP_MASTER_PAGE_BO_TITLE')}};return d}});\n",
	"sap/collaboration/components/fiori/feed/splitApp/FeedTypeMaster.view.js":"/*!\n * @copyright@\n */\nsap.ui.jsview('sap.collaboration.components.fiori.feed.splitApp.FeedTypeMaster',{getControllerName:function(){return'sap.collaboration.components.fiori.feed.splitApp.FeedTypeMaster'},createContent:function(c){this.oLangBundle=this.getViewData().langBundle;this.sPrefixId=this.getViewData().controlId;return new sap.m.Page(this.sPrefixId+'feedTypePage',{title:this.oLangBundle.getText('FEED_MASTER_PAGE_TITLE'),content:[new sap.m.List(this.sPrefixId+'FeedTypes',{inset:true,items:[new sap.m.StandardListItem({title:this.oLangBundle.getText('FRV_DOMAIN_DATA_FEED_TYPES_FOLLOWS'),type:sap.m.ListType.Active,selected:true,press:function(){c.listItemPress('follows')}}),new sap.m.StandardListItem({title:this.oLangBundle.getText('FRV_DOMAIN_DATA_FEED_TYPES_COMPANY'),type:sap.m.ListType.Active,press:function(){c.listItemPress('company')}}),new sap.m.StandardListItem({title:this.oLangBundle.getText('FRV_DOMAIN_DATA_FEED_TYPES_GROUP'),type:sap.m.ListType.Active,press:function(){c.listItemPress('group')}}),new sap.m.StandardListItem({title:this.oLangBundle.getText('FRV_DOMAIN_DATA_FEED_TYPES_BO'),type:sap.m.ListType.Active,press:function(){c.listItemPress('context')}})]})]})}});\n",
	"sap/collaboration/components/fiori/feed/splitApp/GroupMaster.controller.js":"/*!\n * @copyright@\n */\nsap.ui.controller('sap.collaboration.components.fiori.feed.splitApp.GroupMaster',{onInit:function(){this.oOdataModel=this.getView().getViewData().odataModel;this.oBusinessObject=this.getView().getViewData().object;this.sFeedType=this.getView().getViewData().feedType;this.sPageTitle=this.getView().getViewData().pageTitle;this.sJamToken=this.getView().getViewData().jamToken;this.oLangBundle=this.getView().getViewData().langBundle;this.sPrefixId=this.getView().getViewData().controlId},onBeforeRendering:function(){var s=this;this.getView().groupMasterPage.setTitle(this.sPageTitle);this.initializeUtils();this.setViewModel();var S=new sap.m.StandardListItem();S.bindProperty('title','Name');S.setType(sap.m.ListType.Active);S.attachPress(function(){var g=this.getBindingContext().getProperty(this.getBindingContext().getPath()).Id;var G=this.getBindingContext().getProperty(this.getBindingContext().getPath()).Name;s.oJamUtil.createJamWidget(s.sJamToken,s.sPrefixId+'widgetContainer',s.sFeedType,g);sap.ui.getCore().byId(s.sPrefixId+'feedDetailsPage').setTitle(G)});sap.ui.getCore().byId(this.sPrefixId+'groupsList').bindItems('/groupsData',S);var o=new sap.m.StandardListItem({title:this.oLangBundle.getText('GROUP_MASTER_LIST_All_GROUPS')});o.setType(sap.m.ListType.Active);o.attachPress(function(){var g=s.oODataUtil.getGroupIds(s.aGroupData);s.oJamUtil.createJamWidget(s.sJamToken,s.sPrefixId+'widgetContainer',s.sFeedType,g);sap.ui.getCore().byId(s.sPrefixId+'feedDetailsPage').setTitle(s.oLangBundle.getText('GROUP_MASTER_LIST_All_GROUPS'))});sap.ui.getCore().byId(this.sPrefixId+'groupsList').insertItem(o,0)},onAfterRendering:function(){},initializeUtils:function(){this.oODataUtil=new sap.collaboration.components.utils.OdataUtil();this.oJamUtil=new sap.collaboration.components.utils.JamUtil()},setViewModel:function(){this.aGroupData;this.sFeedType===sap.collaboration.FeedType.group?this.aGroupData=this.oODataUtil.getGroupsData(this.oOdataModel,'/Groups'):this.aGroupData=this.oODataUtil.getGroupsData(this.oOdataModel,\"/BusinessObjects('\"+this.oBusinessObject.id+\"')/AssignedGroups\");this.oViewData={groupsData:this.aGroupData};this.oViewModel=new sap.ui.model.json.JSONModel(this.oViewData);this.getView().setModel(this.oViewModel)},onNavButtonTap:function(){sap.ui.getCore().getEventBus().publish('nav','back')}});\n",
	"sap/collaboration/components/fiori/feed/splitApp/GroupMaster.view.js":"/*!\n * @copyright@\n */\nsap.ui.jsview('sap.collaboration.components.fiori.feed.splitApp.GroupMaster',{getControllerName:function(){return'sap.collaboration.components.fiori.feed.splitApp.GroupMaster'},createContent:function(c){this.sPrefixId=this.getViewData().controlId;this.groupMasterPage=new sap.m.Page(this.sPrefixId+'groupPage',{title:this.getViewData().groupMasterpageTitle,showNavButton:true,navButtonPress:c.onNavButtonTap,content:[new sap.m.List(this.sPrefixId+'groupsList',{inset:true})]});return this.groupMasterPage}});\n",
	"sap/collaboration/components/fiori/feed/splitApp/SplitApp.controller.js":"/*!\n * @copyright@\n */\nsap.ui.controller('sap.collaboration.components.fiori.feed.splitApp.SplitApp',{onInit:function(){this.oSplitApp=this.getView().oSplitApp;this.sAppType=this.getView().getViewData().appType;this.oOdataModel=this.getView().getViewData().odataModel;this.oBusinessObject=this.getView().getViewData().object;this.oLangBundle=this.getView().getViewData().langBundle;this.sPrefixId=this.getView().getViewData().controlId;this.oEventBus=sap.ui.getCore().getEventBus();this.oEventBus.subscribe('nav','to',this.navToHandler,this);this.oEventBus.subscribe('nav','back',this.navBackHandler,this)},onBeforeRendering:function(){this.createMasterDetail()},createMasterDetail:function(){var o=new sap.collaboration.components.utils.OdataUtil();var j=o.getJamUrl(this.oOdataModel);this.sJamToken=o.getJamToken(this.oOdataModel);var m=sap.ui.view({id:this.sPrefixId+'masterView',viewData:{controlId:this.sPrefixId,jamToken:this.sJamToken,langBundle:this.oLangBundle,object:this.oBusinessObject},type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.collaboration.components.fiori.feed.splitApp.FeedTypeMaster'});var d=sap.ui.view({id:this.sPrefixId+'detailView',viewData:{controlId:this.sPrefixId,appType:this.sAppType,jamURL:j,jamToken:this.sJamToken,langBundle:this.oLangBundle,object:this.oBusinessObject},type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.collaboration.components.fiori.feed.commons.Detail'});this.oSplitApp.addDetailPage(d);this.oSplitApp.addMasterPage(m);this.oSplitApp.setInitialDetail(d);this.oSplitApp.setInitialMaster(m)},navToHandler:function(c,e,d){if(d&&d.viewId===this.sPrefixId+'groupMasterView'){if(!sap.ui.getCore().byId(d.viewId)){var v=sap.ui.view({id:d.viewId,viewData:{controlId:this.sPrefixId,odataModel:this.oOdataModel,object:this.oBusinessObject,feedType:d.data.feedType,pageTitle:d.data.groupMasterPageTitle,jamToken:this.sJamToken,langBundle:this.oLangBundle},type:sap.ui.core.mvc.ViewType.JS,viewName:d.viewName});this.oSplitApp.addMasterPage(v)}else{sap.ui.getCore().byId(d.viewId).getController().sFeedType=d.data.feedType;sap.ui.getCore().byId(d.viewId).getController().sPageTitle=d.data.groupMasterPageTitle;sap.ui.getCore().byId(d.viewId).rerender()}this.oSplitApp.to(d.viewId)}else{jQuery.sap.log.error('nav-to event cannot be processed. Invalid data: '+d)}},navBackHandler:function(){this.oSplitApp.backMaster()}});\n",
	"sap/collaboration/components/fiori/feed/splitApp/SplitApp.view.js":"/*!\n * @copyright@\n */\nsap.ui.jsview('sap.collaboration.components.fiori.feed.splitApp.SplitApp',{getControllerName:function(){return'sap.collaboration.components.fiori.feed.splitApp.SplitApp'},createContent:function(c){this.sPrefixId=this.getViewData().controlId;this.oSplitApp=new sap.m.SplitApp(this.sPrefixId+'splitApp');return this.oSplitApp}});\n",
	"sap/collaboration/components/fiori/sharing/Component.js":"/*!\n * @copyright@\n */\njQuery.sap.require('sap.collaboration.components.utils.OdataUtil');jQuery.sap.require('sap.collaboration.components.utils.CommonUtil');jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.declare('sap.collaboration.components.fiori.sharing.Component');jQuery.sap.require('sap.m.MessageBox');sap.ui.core.UIComponent.extend('sap.collaboration.components.fiori.sharing.Component',{metadata:{includes:['../../css/Sharing.css'],properties:{width:{type:'sap.ui.core.CSSSize',defaultValue:'100%'},height:{type:'sap.ui.core.CSSSize',defaultValue:'100%'},oDataServiceUrl:{type:'sap.ui.core.URI',defaultValue:'/sap/opu/odata/sap/SM_INTEGRATION_SRV'},object:{type:'object'}},aggregations:{},events:{}},init:function(){this.oCommonUtil=new sap.collaboration.components.utils.CommonUtil();this.oLangBundle=this.oCommonUtil.getLanguageBundle();this.aJamGroups=[];this.bOdataOn=true},onBeforeRendering:function(){if(this.bOdataOn===true){try{this.setGroupsData()}catch(e){this.oCommonUtil.displayError(e);this.bStopRendering=true}}},onAfterRendering:function(){jQuery.sap.log.debug('Share Component properties:','','sap.collaboration.components.fiori.sharing.Component.onAfterRendering()');jQuery.sap.log.debug('width: '+this.getWidth());jQuery.sap.log.debug('height: '+this.getHeight());jQuery.sap.log.debug('oDataServiceUrl: '+this.getODataServiceUrl());if(this.getObject()){jQuery.sap.log.debug('object->id: '+this.getObject().id);jQuery.sap.log.debug('object->share: '+this.getObject().share);jQuery.sap.log.debug('object->display: '+this.getObject().display)}else{jQuery.sap.log.debug('object: undefined')}var o=this.getObject();var O;var s;var a;if(o){O=o.display;s=o.share;a=o.id}if(this.bStopRendering===undefined||this.bStopRendering===false){if(!this.oSharingView){var j=this.getJamUrl();this.oSharingView=sap.ui.view({id:this.getId()+'_SharingView',viewData:{controlId:this.getId(),langBundle:this.oLangBundle,jamGroups:this.aJamGroups,jamUrl:j,objectDisplay:O,objectShare:s,objectId:a},type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.collaboration.components.fiori.sharing.Sharing'})}else{this.oSharingView.getController().aJamGroups=this.aJamGroups;this.oSharingView.getController().sObjectShare=s;this.oSharingView.getController().oObjectDisplay=O}this.oSharingView.placeAt(this.getId())}},exit:function(){this.oView.destroy()},setSettings:function(s){this.setODataServiceUrl(s.oDataServiceUrl);this.setObject(s.object)},render:function(r){r.write(\"<div id='\"+this.getId()+\"' style='width:\"+this.getWidth()+';height:'+this.getHeight()+\"'\");r.write('>');r.write('</div>')},setGroupsData:function(){this.initializeOdataModel();this.initializeOdataUtils();try{this.aJamGroups=this.getJamGroups()}catch(e){throw new Error(e.message)}},initializeOdataModel:function(){var a=true;this.sODataServiceUrl=this.getODataServiceUrl();this.oOdataModel=new sap.ui.model.odata.ODataModel(this.sODataServiceUrl,a)},initializeOdataUtils:function(){this.oODataUtil=new sap.collaboration.components.utils.OdataUtil()},getJamGroups:function(){return this.oODataUtil.getGroupsData(this.oOdataModel,'/Groups')},getJamUrl:function(){return this.oODataUtil.getJamUrl(this.oOdataModel)},shareToJam:function(){var s=this.oSharingView.getController().getSharingData();var a=this;var n=s.note;var g=s.groupId;var f=n;var o;var r;if(this.getObject()){o=this.getObject().id}if(o&&f!==''){f=f+'\\n'+this.getObject().id}else if(o){f=this.getObject().id}jQuery.sap.log.debug('Share Component sFeedContent: '+f,'','sap.collaboration.components.fiori.sharing.Component.shareToJam()');var b=this.oODataUtil.createGroupFeed(this.oOdataModel,g,f);if(b===true){r=a.oLangBundle.getText('SHARING_SUCCESS_MSG')}else{r=a.oLangBundle.getText('SHARING_ERROR_MSG')}return r}});\n",
	"sap/collaboration/components/fiori/sharing/Sharing.controller.js":"/*!\n * @copyright@\n */\nsap.ui.controller('sap.collaboration.components.fiori.sharing.Sharing',{onInit:function(){this.sPrefixId=this.getView().getViewData().controlId;this.oLangBundle=this.getView().getViewData().langBundle;this.aJamGroups=this.getView().getViewData().jamGroups;this.sObjectShare=this.getView().getViewData().objectShare;this.oObjectDisplay=this.getView().getViewData().objectDisplay},onBeforeRendering:function(){if(this.aJamGroups.length!==0){this.addFormElement();this.processGroupsData();this.setViewModel();this.bindGroupSelect()}else{this.addNoGroupsMessage()}},onAfterRendering:function(){this.sSelectedGroupId=sap.ui.getCore().byId(this.sPrefixId+'_GroupSelect').getSelectedKey();if(this.sObjectShare){sap.ui.getCore().byId(this.sPrefixId+'_NoteTextArea').setValue(this.sObjectShare)}},addFormElement:function(){this.getView().oSharingVBox.removeAllItems();if(this.oObjectDisplay){this.getView().oSharingVBox.addItem(this.oObjectDisplay)}this.getView().oSharingVBox.addItem(this.getView().oGroupSelectionLayout);this.getView().oSharingVBox.addItem(this.getView().oNoteLayout)},addNoGroupsMessage:function(){this.getView().oSharingVBox.removeAllItems();this.getView().oSharingVBox.addItem(this.getView().oNoDataLayout)},processGroupsData:function(){for(var i=0;i<this.aJamGroups.length;i++){this.aJamGroups[i].Name=this.aJamGroups[i].Name+' ('+this.aJamGroups[i].GroupType+')'}},setViewModel:function(){this.oViewData={jamGroups:this.aJamGroups};this.oViewModel=new sap.ui.model.json.JSONModel(this.oViewData);this.getView().setModel(this.oViewModel)},bindGroupSelect:function(){var i=new sap.ui.core.Item({key:'{Id}',text:'{Name}'});sap.ui.getCore().byId(this.sPrefixId+'_GroupSelect').bindItems('/jamGroups',i)},onGroupSelectChange:function(c){this.sSelectedGroupId=c.getParameter('selectedItem').getKey()},getSharingData:function(){var s={note:sap.ui.getCore().byId(this.sPrefixId+'_NoteTextArea').getValue(),groupId:this.sSelectedGroupId};return s}});\n",
	"sap/collaboration/components/fiori/sharing/Sharing.view.js":"/*!\n * @copyright@\n */\nsap.ui.jsview('sap.collaboration.components.fiori.sharing.Sharing',{getControllerName:function(){return'sap.collaboration.components.fiori.sharing.Sharing'},createContent:function(c){var p=this.getViewData().controlId;this.prepareSharingVBoxContent(c);this.oSharingVBox=new sap.m.VBox(p+'_SharingVbox');return this.oSharingVBox},prepareSharingVBoxContent:function(c){var p=this.getViewData().controlId;var l=this.getViewData().langBundle;var j=this.getViewData().jamUrl;this.oNoDataLayout=new sap.ui.layout.VerticalLayout(p+'_NoDataLayout',{width:'100%',content:[new sap.ui.core.HTML(p+'_NoDataDiv',{content:'<div>'+l.getText('No_GROUPS_ERROR')+'</div>'}),new sap.m.VBox(p+'_LinkVbox',{alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link(p+'_JamLink',{text:l.getText('JAM_URL_TEXT'),target:'_blank',href:j})]}).addStyleClass('linkVBox')]});var g=new sap.m.Label(p+'_GroupLabel',{text:l.getText('GRP_SELECT_LABEL'),required:true,width:'100%'});var G=new sap.m.Select(p+'_GroupSelect',{width:'100%',items:[],change:function(C){c.onGroupSelectChange(C)}});this.oGroupSelectionLayout=new sap.ui.layout.VerticalLayout(p+'_GroupSelectionLayout',{width:'100%',layoutData:new sap.m.FlexItemData({growFactor:1}),content:[g,G]}).addStyleClass('sharingVBox');var n=new sap.m.Label(p+'_NoteLabel',{text:l.getText('ADD_NOTE_LABEL'),width:'100%'});var o;this.getViewData().objectId?o=this.getViewData().objectId.length:o=0;var N=1000-o-1;var a=new sap.m.TextArea(p+'_NoteTextArea',{rows:6,width:'100%',maxLength:N});this.oNoteLayout=new sap.ui.layout.VerticalLayout(p+'_NoteLayout',{width:'100%',layoutData:new sap.m.FlexItemData({growFactor:2}),content:[n,a]}).addStyleClass('sharingVBox')}});\n",
	"sap/collaboration/components/fiori/sharing/dialog/Component.js":"/*!\n * @copyright@\n */\njQuery.sap.require('sap.collaboration.components.utils.OdataUtil');jQuery.sap.require('sap.collaboration.components.utils.CommonUtil');jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.declare('sap.collaboration.components.fiori.sharing.dialog.Component');jQuery.sap.require('sap.m.MessageToast');sap.ui.core.UIComponent.extend('sap.collaboration.components.fiori.sharing.dialog.Component',{metadata:{properties:{width:{type:'sap.ui.core.CSSSize'},height:{type:'sap.ui.core.CSSSize'},oDataServiceUrl:{type:'sap.ui.core.URI',defaultValue:'/sap/opu/odata/sap/SM_INTEGRATION_SRV'},object:{type:'object'}},aggregations:{},events:{}},init:function(){this.oCommonUtil=new sap.collaboration.components.utils.CommonUtil();this.oLangBundle=this.oCommonUtil.getLanguageBundle()},setSettings:function(s){this.setODataServiceUrl(s.oDataServiceUrl);this.setObject(s.object)},createSharingComponent:function(){var o=this.getObject();var O=this.getODataServiceUrl();var s={oDataServiceUrl:O,object:o};if(!this.sharingComponent){this.sharingComponent=sap.ui.getCore().createComponent({name:'sap.collaboration.components.fiori.sharing',id:this.getId()+'_SharingComponent'});this.sharingComponentContainer=new sap.ui.core.ComponentContainer(this.getId()+'SharingComponentContainer',{component:this.sharingComponent});this.sharingComponent.bOdataOn=false}this.sharingComponent.setSettings(s);try{this.sharingComponent.setGroupsData()}catch(e){this.oCommonUtil.displayError(e);this.bStopRendering=true}},createSharingDialog:function(){this.sResultMessage='';var s=this;var S=new sap.m.Dialog(this.getId()+'_SharingDialog',{title:this.oLangBundle.getText('SHARING_PAGE_TITLE'),stretch:false,content:[this.sharingComponentContainer],afterClose:function(){s.showMessage()}}).addStyleClass('sapUiPopupWithPadding');return S},open:function(){this.createSharingComponent();if(this.bStopRendering===undefined||this.bStopRendering===false){if(!this.oSharingDialog){this.oSharingDialog=this.createSharingDialog()}this.createDialogButtons();if(jQuery.device.is.phone){this.oSharingDialog.setStretch(true)}this.oSharingDialog.open()}},createDialogButtons:function(){var s=this;if(this.sharingComponent.aJamGroups.length===0){this.oSharingDialog.destroyBeginButton();this.oSharingDialog.destroyEndButton();this.oSharingDialog.setEndButton(new sap.m.Button({text:this.oLangBundle.getText('CLOSE_BUTTON_TEXT'),press:function(){s.oSharingDialog.close()}}))}else{this.oSharingDialog.destroyEndButton();this.oSharingDialog.setBeginButton(new sap.m.Button({text:this.oLangBundle.getText('OK_BUTTON_TEXT'),press:function(){s.oSharingDialog.getBeginButton().setEnabled(false);s.sResultMessage=s.sharingComponent.shareToJam();s.oSharingDialog.close()}}));this.oSharingDialog.setEndButton(new sap.m.Button({text:this.oLangBundle.getText('CANCEL_BUTTON_TEXT'),press:function(){s.oSharingDialog.close()}}))}},showMessage:function(){if(this.sResultMessage!==''){sap.m.MessageToast.show(this.sResultMessage,{duration:3000});this.sResultMessage=''}}});\n",
	"sap/collaboration/components/utils/CommonUtil.js":"/*!\n * @copyright@\n */\njQuery.sap.require('sap.m.MessageBox');jQuery.sap.declare('sap.collaboration.components.utils.CommonUtil');sap.ui.base.Object.extend('sap.collaboration.components.utils.CommonUtil',{getLanguageBundle:function(){if(!this.oLangBundle){jQuery.sap.require('jquery.sap.resources');var l=sap.ui.getCore().getConfiguration().getLanguage();this.oLangBundle=jQuery.sap.resources({url:jQuery.sap.getModulePath('sap.collaboration.components')+'/i18n/messagebundle.properties',locale:l})}return this.oLangBundle},displayError:function(e){var m=this.getLanguageBundle().getText('SYSTEM_ERROR_MESSAGEBOX_GENERAL_TEXT');sap.m.MessageBox.show(m,sap.m.MessageBox.Icon.ERROR,this.getLanguageBundle().getText('SYSTEM_ERROR_MESSAGEBOX_TITLE'))}});\n",
	"sap/collaboration/components/utils/JamUtil.js":"/*!\n * @copyright@\n */\njQuery.sap.declare('sap.collaboration.components.utils.JamUtil');sap.ui.base.Object.extend('sap.collaboration.components.utils.JamUtil',{FeedRenderedControllerConstants:{jamWidgetCSS:{avatar:false,skin:'gr',post_mode:'inline',reply_mode:'inline',mobile_mode:true,live_update:true}},JamFeedType:{Follows:'follows',Company:'company',Group:'group',ObjectGroup:'context',Object:'external'},JamCallback:{autocomplete:'autocomplete',post_status:'post_status',link:'link'},JamEventType:{mouseover:'mouseover',mouseout:'mouseout',click:'click'},loadFeedWidgetScript:function(j,l,L){var s=this;var S=j+'/assets/feed_widget_v1.js';jQuery.sap.includeScript(S,'sap.collaboration.feed.JamFeedWidget',l,L);jQuery.sap.log.info('Jam Feed Widget Script Loading Asynchronously','sap.collaboration.components.utils.JamUtil.loadFeedWidgetScript()')},initializeJamWidget:function(sJamURL){try{this.sapjam=eval('sapjam');this.sapjam.feedWidget.init(sJamURL+'/widget/v1/feed','single_use_token');jQuery.sap.log.info('Jam Feed Widget Initialized','sap.collaboration.components.utils.JamUtil.initializeJamWidget()')}catch(oError){jQuery.sap.log.error(oError,'','sap.collaboration.components.utils.JamUtil.initializeJamWidget()');throw oError}},createJamWidget:function(sWidgetContainerID,oWidgetData){try{this.sapjam=eval('sapjam');this.sapjam.feedWidget.create(sWidgetContainerID,oWidgetData)}catch(oError){jQuery.sap.log.error(oError,'','sap.collaboration.components.utils.JamUtil.createJamWidget()');throw oError}},prepareWidgetData:function(j,f,g,b){var w;w={type:f,avatar:this.FeedRenderedControllerConstants.jamWidgetCSS.avatar,live_update:this.FeedRenderedControllerConstants.jamWidgetCSS.live_update,post_mode:this.FeedRenderedControllerConstants.jamWidgetCSS.post_mode,reply_mode:this.FeedRenderedControllerConstants.jamWidgetCSS.reply_mode,mobile_mode:this.FeedRenderedControllerConstants.jamWidgetCSS.mobile_mode,hide_bookmark:true,single_use_token:j};switch(f){case sap.collaboration.FeedType.follows:case sap.collaboration.FeedType.company:w.type=f;break;case sap.collaboration.FeedType.group:case sap.collaboration.FeedType.objectGroup:w.type=this.JamFeedType.Group;w.group_id=g;break;case sap.collaboration.FeedType.object:w.type=this.JamFeedType.Object;if(!b){var E=new Error('Object is undefined');jQuery.sap.log.error(E,'','sap.collaboration.components.utils.JamUtil.prepareWidgetData()');throw E}if(!b.id){var o=new Error(\"Property 'id' is undefined\");jQuery.sap.log.error(o,'','sap.collaboration.components.utils.JamUtil.prepareWidgetData()');throw o}if(!b.type){var a=new Error(\"Property 'type' is undefined\");jQuery.sap.log.error(a,'','sap.collaboration.components.utils.JamUtil.prepareWidgetData()');throw a}try{w.external_id=b.id;w.external_type=b.type;w.external_object=b}catch(c){jQuery.sap.log.error(c,'','sap.collaboration.components.utils.JamUtil.prepareWidgetData()');throw c}break;default:var e='Feed Type not supported';jQuery.sap.log.error(e,'','sap.collaboration.components.utils.JamUtil.prepareWidgetData()');throw new Error(e)}return w}});\n",
	"sap/collaboration/components/utils/OdataUtil.js":"/*!\n * @copyright@\n */\njQuery.sap.declare('sap.collaboration.components.utils.OdataUtil');sap.ui.base.Object.extend('sap.collaboration.components.utils.OdataUtil',{getJamUrl:function(o){var j='';var e;var s=function(d,r){j=d.GetCollaborationHostUrl.Url};var E=function(a){jQuery.sap.log.error(JSON.stringify(a));e=a.response.statusCode};o.read('/GetCollaborationHostUrl',null,null,false,s,E);if(e){throw new Error(e)}return j},getJamToken:function(o){var j='';var e;var s=function(d,r){j=d.GetSingleUseToken.Id};var E=function(a){jQuery.sap.log.error(JSON.stringify(a));e=a.response.statusCode};o.read('/GetSingleUseToken',null,null,false,s,E);if(e){throw new Error(e)}return j},getGroupsData:function(o,O){var g;var e='';var s=function(d,r){g=d.results};var E=function(a){jQuery.sap.log.error(JSON.stringify(a));e=a.response.statusCode};o.read(O,null,null,false,s,E);if(e){throw new Error(e)}return g},getGroupIds:function(g){var G='';for(var i=0;i<g.length;i++){if(i==0){G+=g[i].Id}else{G+=','+g[i].Id}}return G},createGroupFeed:function(o,g,f){var O='/Groups('+g+')/Feed';var p={'Text':f};var s;var S=function(){s=true};var e=function(E){jQuery.sap.log.error(JSON.stringify(E.response.body));s=false};o.create(O,p,null,S,e);return s}});\n",
	"sap/collaboration/library.js":"jQuery.sap.declare('sap.collaboration.library');jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.ui.core.library');sap.ui.getCore().initLibrary({name:'sap.collaboration',dependencies:['sap.ui.core'],types:['sap.collaboration.AppType','sap.collaboration.FeedType'],interfaces:[],controls:[],elements:[],noLibraryCSS:true,version:'1.16.3'});jQuery.sap.declare('sap.collaboration.AppType');sap.collaboration.AppType={split:'split',widget:'widget'};jQuery.sap.declare('sap.collaboration.FeedType');sap.collaboration.FeedType={follows:'follows',company:'company',group:'group',objectGroup:'objectGroup',object:'object'};\n"
}}
